create table admin(
    id serial,
    username varchar(50) not null unique ,
    password varchar(255) not null ,

    primary key (id)
);


create table student(
    id serial,
    name varchar(100) not null ,
    dob date not null ,
    email varchar(100) not null unique ,
    gender bit not null ,
    phone varchar(20) not null ,
    password varchar(255) not null ,
    created_at date default current_timestamp,

    primary key (id)
);


create table course(
    id serial,
    name varchar(100) not null ,
    duration int not null ,
    instructor varchar(100) not null ,
    created_at date default current_timestamp,

    primary key (id)
);

create type course_status as enum('WAITING','DENIED','CANCEL','CONFIRM');

create table enrollment(
    id serial,
    student_id int ,
    course_id int ,
    registered_at date default current_timestamp,
    status course_status default 'WAITING',

    primary key (id),
    foreign key (student_id) references student(id),
    foreign key (course_id) references course(id)
);


INSERT INTO admin (username, password)
VALUES ('admin', '$2a$10$N9qo8uLOickgx2ZMRZoMyeIjZAgcfl7p92ldGxad68LJZdL17lhWy'),
       ('huynh', '$2a$10$N9qo8uLOickgx2ZMRZoMyeIjZAgcfl7p92ldGxad68LJZdL17lhWy');

INSERT INTO course (name, duration, instructor, created_at)
VALUES ('Lập trình C cơ bản', 30, 'Thầy Sơn', '2024-12-01'),
       ('C++ Hướng đối tượng', 45, 'Cô Lan', '2024-12-05'),
       ('Java Core - Nền tảng', 50, 'Thầy Huỳnh', '2024-12-10'),
       ('Advanced Java & Collections', 40, 'Thầy Huỳnh', '2024-12-15'),
       ('Spring Boot & Microservices', 70, 'Thầy Minh', '2025-01-02'),
       ('Python cho người mới bắt đầu', 35, 'Cô Mai', '2025-01-05'),
       ('Data Science với Python', 60, 'Thầy Hùng', '2025-01-08'),
       ('Machine Learning cơ bản', 55, 'Thầy Hùng', '2025-01-12'),
       ('HTML5 & CSS3 - Web Design', 30, 'Cô Thảo', '2025-01-15'),
       ('JavaScript nâng cao (ES6+)', 40, 'Thầy Tuấn', '2025-01-18'),
       ('ReactJS - Frontend Master', 50, 'Thầy Tuấn', '2025-01-20'),
       ('NodeJS & Express Backend', 45, 'Thầy Nam', '2025-01-22'),
       ('Angular Framework', 50, 'Cô Thảo', '2025-01-25'),
       ('SQL & Thiết kế Cơ sở dữ liệu', 35, 'Thầy Bằng', '2025-02-01'),
       ('PostgreSQL Quản trị nâng cao', 40, 'Thầy Bằng', '2025-02-05'),
       ('Lập trình Mobile với Flutter', 65, 'Thầy Khánh', '2025-02-10'),
       ('Android Native (Kotlin)', 60, 'Thầy Khánh', '2025-02-12'),
       ('DevOps: Docker & Kubernetes', 50, 'Thầy Long', '2025-02-15'),
       ('AWS Cloud Computing', 45, 'Thầy Long', '2025-02-18'),
       ('Cyber Security - Nhập môn', 40, 'Thầy An', '2025-02-20');

INSERT INTO student (name, dob, email, gender, phone, password, created_at)
VALUES ('Nguyễn Văn An', '2000-01-15', 'an.nguyen@gmail.com', 1::bit, '0901000001',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-01-10'),
       ('Trần Thị Bích', '2001-03-20', 'bich.tran@gmail.com', 0::bit, '0901000002',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-01-12'),
       ('Lê Hoàng Cường', '1999-12-05', 'cuong.le@gmail.com', 1::bit, '0901000003',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-01-15'),
       ('Phạm Thu Dung', '2002-07-10', 'dung.pham@gmail.com', 0::bit, '0901000004',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-02-01'),
       ('Hoàng Minh Đức', '2000-09-25', 'duc.hoang@gmail.com', 1::bit, '0901000005',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-02-05'),
       ('Vũ Thị Én', '2001-02-14', 'en.vu@gmail.com', 0::bit, '0901000006',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-02-10'),
       ('Đặng Văn Giang', '1998-11-30', 'giang.dang@gmail.com', 1::bit, '0901000007',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-02-15'),
       ('Bùi Thị Hằng', '2003-05-05', 'hang.bui@gmail.com', 0::bit, '0901000008',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-02-20'),
       ('Đỗ Quang Huy', '2000-08-18', 'huy.do@gmail.com', 1::bit, '0901000009',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-03-01'),
       ('Ngô Thị Khanh', '2001-10-22', 'khanh.ngo@gmail.com', 0::bit, '0901000010',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-03-05'),
       ('Dương Văn Lâm', '1997-04-12', 'lam.duong@gmail.com', 1::bit, '0901000011',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-03-10'),
       ('Lý Thị Mai', '2002-06-30', 'mai.ly@gmail.com', 0::bit, '0901000012',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-03-15'),
       ('Trịnh Văn Nam', '2000-01-01', 'nam.trinh@gmail.com', 1::bit, '0901000013',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-04-01'),
       ('Mai Thị Ngọc', '2001-12-25', 'ngoc.mai@gmail.com', 0::bit, '0901000014',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-04-05'),
       ('Đinh Văn Phong', '1999-07-15', 'phong.dinh@gmail.com', 1::bit, '0901000015',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-04-10'),
       ('Võ Thị Quyên', '2002-11-20', 'quyen.vo@gmail.com', 0::bit, '0901000016',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-04-15'),
       ('Lưu Văn Sáng', '2000-03-10', 'sang.luu@gmail.com', 1::bit, '0901000017',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-04-20'),
       ('Tạ Thị Thanh', '2001-08-05', 'thanh.ta@gmail.com', 0::bit, '0901000018',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-05-01'),
       ('Phan Văn Tùng', '1998-09-09', 'tung.phan@gmail.com', 1::bit, '0901000019',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-05-05'),
       ('Đoàn Thị Uyên', '2003-02-28', 'uyen.doan@gmail.com', 0::bit, '0901000020',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-05-10'),
       ('Bạch Văn Vinh', '2000-10-10', 'vinh.bach@gmail.com', 1::bit, '0901000021',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-05-15'),
       ('Hồ Thị Xuân', '2001-06-01', 'xuan.ho@gmail.com', 0::bit, '0901000022',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-05-20'),
       ('Cao Văn Y', '1999-05-20', 'y.cao@gmail.com', 1::bit, '0901000023',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-06-01'),
       ('Nguyễn Thị Lan', '2002-04-15', 'lan.nguyen@gmail.com', 0::bit, '0901000024',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-06-05'),
       ('Trần Văn Kiên', '2000-12-12', 'kien.tran@gmail.com', 1::bit, '0901000025',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-06-10'),
       ('Lê Thị Mận', '2001-09-09', 'man.le@gmail.com', 0::bit, '0901000026',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-06-15'),
       ('Phạm Văn Nghĩa', '1998-01-25', 'nghia.pham@gmail.com', 1::bit, '0901000027',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-06-20'),
       ('Hoàng Thị Oanh', '2003-11-11', 'oanh.hoang@gmail.com', 0::bit, '0901000028',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-07-01'),
       ('Vũ Văn Phú', '2000-02-28', 'phu.vu@gmail.com', 1::bit, '0901000029',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-07-05'),
       ('Đặng Thị Quý', '2001-07-07', 'quy.dang@gmail.com', 0::bit, '0901000030',
        '$2a$10$o1nLOKgh97Smi.8VUBSon.DfrAJkeIdHtMB5JmhPdb9vdu4SB9/xm', '2024-07-10');

INSERT INTO enrollment (student_id, course_id, registered_at, status)
VALUES
(1, 1, '2024-06-01', 'CONFIRM'),
(2, 1, '2024-06-02', 'CONFIRM'),
(3, 1, '2024-06-03', 'CONFIRM'),
(4, 1, '2024-06-04', 'CONFIRM'),
(5, 1, '2024-06-05', 'CONFIRM'),
(6, 1, '2024-06-06', 'CONFIRM'),
(7, 1, '2024-06-07', 'CONFIRM'),
(8, 1, '2024-06-08', 'CONFIRM'),
(9, 1, '2024-06-09', 'CONFIRM'),
(10, 1, '2024-06-10', 'CONFIRM'),  
(11, 1, '2024-06-11', 'WAITING'),  
(12, 1, '2024-06-12', 'WAITING'),
(13, 1, '2024-06-13', 'DENIED'),  
(14, 1, '2024-06-14', 'CANCEL'),   
(15, 1, '2024-06-15', 'CANCEL'),
(16, 5, '2024-07-01', 'CONFIRM'),
(17, 5, '2024-07-02', 'CONFIRM'),
(18, 5, '2024-07-03', 'CONFIRM'),
(19, 5, '2024-07-04', 'CONFIRM'),
(20, 5, '2024-07-05', 'CONFIRM'),
(21, 5, '2024-07-06', 'CONFIRM'),
(22, 5, '2024-07-07', 'CONFIRM'),
(23, 5, '2024-07-08', 'CONFIRM'),
(24, 5, '2024-07-09', 'WAITING'),
(25, 5, '2024-07-10', 'WAITING'),
(26, 5, '2024-07-11', 'DENIED'),
(27, 5, '2024-07-12', 'CANCEL'),
(1, 2, '2024-08-01', 'WAITING'),   
(2, 3, '2024-08-02', 'CONFIRM'),  
(3, 10, '2024-08-03', 'CONFIRM'),  
(28, 18, '2024-08-04', 'WAITING'), 
(29, 18, '2024-08-05', 'CONFIRM'), 
(30, 20, '2024-08-06', 'DENIED'),  
(1, 20, '2024-08-07', 'CANCEL'),   
(5, 15, '2024-08-08', 'WAITING'); 

INSERT INTO enrollment (student_id, course_id, registered_at, status)
VALUES (18, 16, '2024-12-08', 'CONFIRM'),
       (18, 17, '2024-09-19', 'DENIED'),
       (12, 13, '2024-06-28', 'CONFIRM'),
       (5, 12, '2024-11-16', 'CONFIRM'),
       (10, 14, '2024-05-02', 'CONFIRM'),
       (18, 14, '2024-10-19', 'CANCEL'),
       (28, 17, '2024-10-13', 'CONFIRM'),
       (14, 9, '2024-01-08', 'CANCEL'),
       (14, 17, '2024-12-15', 'DENIED'),
       (5, 20, '2024-06-22', 'CONFIRM'),
       (12, 4, '2024-10-06', 'CONFIRM'),
       (9, 15, '2024-01-11', 'CANCEL'),
       (4, 12, '2024-02-06', 'WAITING'),
       (7, 6, '2024-01-13', 'DENIED'),
       (5, 9, '2024-07-16', 'CANCEL'),
       (12, 19, '2024-12-20', 'DENIED'),
       (29, 4, '2024-11-01', 'WAITING'),
       (3, 12, '2024-02-27', 'DENIED'),
       (15, 17, '2024-01-18', 'CANCEL'),
       (1, 4, '2024-12-17', 'DENIED'),
       (24, 20, '2024-11-17', 'DENIED'),
       (7, 2, '2024-01-12', 'CONFIRM'),
       (18, 2, '2024-03-08', 'CANCEL'),
       (4, 15, '2024-02-03', 'DENIED'),
       (30, 16, '2024-09-04', 'WAITING'),
       (3, 15, '2024-11-11', 'CANCEL'),
       (3, 18, '2024-05-22', 'DENIED'),
       (24, 18, '2024-08-03', 'DENIED'),
       (25, 14, '2024-11-25', 'CANCEL'),
       (21, 13, '2024-11-02', 'DENIED'),
       (10, 7, '2024-04-22', 'DENIED'),
       (9, 4, '2024-04-14', 'WAITING'),
       (27, 3, '2024-03-14', 'DENIED'),
       (3, 11, '2024-02-22', 'CONFIRM'),
       (24, 11, '2024-01-18', 'WAITING'),
       (8, 9, '2024-12-15', 'CONFIRM'),
       (22, 8, '2024-01-10', 'CANCEL'),
       (16, 11, '2024-01-26', 'CANCEL'),
       (5, 4, '2024-09-16', 'CONFIRM'),
       (3, 13, '2024-04-19', 'CONFIRM');
